#  Рыбный магазин в telegram #

Бот представляет собой рыбный магазин на основе __telegram__, имеющий меню с продуктами и корзину. Изначальное создание продуктов, с необходимыми атрибутами типа "наименование товара",  "цена за шт.", "описание" происходит на стороне сервиса _Elsatic Path_. Выбрав определенный продукт в меню, пользователь может получить информацию о продукте, а также добавить определенное количество товара в корзину. В корзину записываются продукты, добавленные пользователем из меню, количество каждого продукта, стоимость всех продуктов одного типа и общая стоимость всех товаров в корзине. При необходимости, пользователь может убрать продукт из корзины, тогда общая стоимость товаров в корзине автоматически поменяется. Когда пользователь определится с покупками, из корзины можно будет перейти к оплате; нажав кнопку "Оплатить", у пользователя попросят адрес электронной почты для связи.


## Запуск

Для запуска бота у вас уже должен быть установлен __Python 3__ и __telegram__.

###### **Создание канала в telegram**

- В поисковой строке диалогов _telegram_ найдите `BotFather`. Следуйте его инструкциям и получите персональный token а также ваш новый канал.
- В поисковой строке найдите `userinfobot` и, следуя инструкциям, получите id вашего бота.

###### **Создание базы данных на Redislabs**
- На главной странице сайта [Redislabs](https://redislabs.com) перейдите во вкладку _Try Free_ и пройдите простую регистрацию.
- Вы получите адрес базы данных вида: `redis-13965.f18.us-east-4-9.wc1.cloud.redislabs.com, его порт вида: 16635 и его пароль`.

###### **Создание прайс-листа магазина**
- Зарегистрируйтесь на [сайте](https://dashboard.elasticpath.com).
- Получите _secret_key_ и _id_.
- Создайте новые продукты в разделе [dashboard](https://dashboard.elasticpath.com/dashboard) и прикрепите изображение к каждому товару.

###### **Настройка проекта**
- Скачайте код из репозитория github в отдельную папку.
- Установите зависимости командой `pip install -r requirements.txt`.
- Запустите телеграм-бота - командой `python3 tg_bot.py`. 

## Переменные окружения
Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` в корневом каталоге проекта и запишите туда данные в таком формате: 
```
TG_TOKEN=ваш токен, полученный от BotFather

REDIS_PASSWORD=ваш пароль из ранее зарегистрированной базы данных на Redislabs
REDIS_HOST=хост из ранее зарегистрированной базы данных на Redislabs
REDIS_PORT=порт из ранее зарегистрированной базы данных на Redislabs

MOLTIN_ID=id полученный после регистрации на сервисе Elasticpath
MOLTIN_SECRET=secret_key полученный после регистрации на сервисе Elasticpath
```
